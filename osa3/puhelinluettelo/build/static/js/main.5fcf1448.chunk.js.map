{"version":3,"sources":["components/Filter.js","components/Persons.js","components/PersonForm.js","services/persons.js","App.js","index.js"],"names":["Filter","props","filter","handleFilterChange","react_default","a","createElement","value","onChange","Persons","names","persons","map","person","key","name","number","onClick","deletePerson","id","PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","baseUrl","services_persons","axios","get","then","response","data","newObject","post","put","concat","delete","Notification","_ref","message","style","successful","color","background","fontSize","borderRadius","padding","marginBottom","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","errorMessage","setErrorMessage","useEffect","personService","initialPersons","App_Notification","components_Filter","event","target","components_PersonForm","preventDefault","includes","window","confirm","find","p","personObject","objectSpread","returnedPerson","setTimeout","catch","error","components_Persons","regex","RegExp","match","getFilteredPersons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.5fcf1448.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = (props) => {\r\n  const {filter, handleFilterChange} = props\r\n  return(\r\n    <div>filter shown with<input value={filter} onChange={handleFilterChange}/></div>\r\n  )\r\n}\r\n\r\nexport default Filter;","import React from 'react';\r\n\r\nconst Persons = (props) => {\r\n  const names = props.persons.map(person =>\r\n    <div key={person.name}>{person.name} {person.number} <button onClick={() => props.deletePerson(person.id)}>delete</button></div>\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      {names}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons;","import React from 'react';\r\n\r\nconst PersonForm = (props) => {\r\n  const {addPerson, newName, newNumber, handleNameChange, handleNumberChange} = props\r\n\r\n  return(\r\n    <form onSubmit={addPerson}>\r\n      <div>name: <input value={newName} onChange={handleNameChange}/></div>\r\n      <div>number: <input value={newNumber} onChange={handleNumberChange}/></div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\nexport default PersonForm;","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n  getAll, create, update, deletePerson\r\n}","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport Persons from './components/Persons'\r\nimport PersonForm from './components/PersonForm'\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [filter, setFilter] = useState('')\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const names = persons.map(person => person.name)\r\n\r\n    if (names.includes(newName)) {\r\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\r\n        const person = persons.find(p => p.name === newName)\r\n        const personObject = {\r\n          ...person,\r\n          number: newNumber\r\n        }\r\n        personService\r\n          .update(personObject.id, personObject)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.map(p => p.id !== personObject.id ? p : returnedPerson))\r\n            setNewName(\"\")\r\n            setNewNumber(\"\")\r\n\r\n            const message = {\r\n              message: `Updated phone number of ${returnedPerson.name}!`,\r\n              successful: true\r\n            }\r\n  \r\n            setErrorMessage(message)\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 5000)\r\n          })\r\n          .catch(error => {\r\n            const message = {\r\n              message: `Information of ${personObject.name} has already been removed from server!`,\r\n              successful: false\r\n            }\r\n\r\n            setErrorMessage(message)\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 5000)\r\n\r\n            setPersons(persons.filter(p => p.id !== personObject.id))\r\n          })\r\n      }\r\n    } else {\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n      personService\r\n        .create(personObject)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName(\"\")\r\n          setNewNumber(\"\")\r\n\r\n          const message = {\r\n            message: `${returnedPerson.name} added!`,\r\n            successful: true\r\n          }\r\n\r\n          setErrorMessage(message)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n        })\r\n    }\r\n  }\r\n\r\n  const deletePerson = id => {\r\n    const person = persons.find(person => person.id === id)\r\n\r\n    if(window.confirm(`Do you want to delete ${person.name}?`)){\r\n      personService\r\n        .deletePerson(id)\r\n        .then(response => {\r\n          setPersons(persons.filter(p => p.id !== id))\r\n\r\n          const message = {\r\n            message: `${person.name} deleted!`,\r\n            successful: true\r\n          }\r\n\r\n          setErrorMessage(message)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n        })\r\n    }\r\n  }\r\n\r\n  const getFilteredPersons = () => {\r\n    const regex = new RegExp(filter, \"i\")\r\n    return persons.filter(person => person.name.match(regex))\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={errorMessage}/>\r\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\r\n      <h2>Add a new</h2>\r\n      <PersonForm newName={newName}\r\n        newNumber={newNumber}\r\n        addPerson={addPerson}\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange} />\r\n      <h2>Numbers</h2>\r\n      <Persons persons={getFilteredPersons()} deletePerson={deletePerson}/>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nconst Notification = ({message}) => {\r\n  const successStyle = {\r\n    color: 'black',\r\n    background: '#87ff87',\r\n    fontSize: 20,\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  const errorStyle = {\r\n    color: 'black',\r\n    background: 'red',\r\n    fontSize: 20,\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  if(message === null){\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div style={message.successful ? successStyle : errorStyle}>\r\n      {message.message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}